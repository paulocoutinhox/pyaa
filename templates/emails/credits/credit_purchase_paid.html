{% extends 'emails/layouts/base.html' %}
{% load i18n %}

{% block email_subject %}
    {% translate "email.credit-purchase-paid.subject" %}
{% endblock %}

{% block email_content %}
    <p style="margin-bottom: 15px;">Olá {{ customer.user.get_full_name }},</p>

    <p style="margin-bottom: 15px;">Temos boas notícias! Seu pagamento para a compra de créditos foi confirmado com sucesso.</p>

    <div style="background-color: #f8f9fa; border-left: 4px solid #007bff; padding: 15px; margin: 20px 0;">
        <h3 style="margin-top: 0; color: #333;">{{ plan.name }}</h3>

        {% if plan_image_url %}
        <div style="text-align: center; margin-bottom: 15px;">
            <img src="{{ plan_image_url }}" alt="{{ plan.name }}" style="max-width: 200px; height: auto;">
        </div>
        {% endif %}

        <p style="margin-bottom: 5px;"><strong>Valor Total:</strong> {{ purchase.price|floatformat:2 }}</p>
        <p style="margin-bottom: 5px;"><strong>Data da Compra:</strong> {{ purchase.created_at|date:"d/m/Y H:i" }}</p>
        <p style="margin-bottom: 5px;"><strong>Créditos Adquiridos:</strong> {{ plan.credits }}</p>

        {% if plan.bonus_credits > 0 %}
        <p style="margin-bottom: 5px;"><strong>Créditos Bônus:</strong> {{ plan.bonus_credits }}</p>
        <p style="margin-bottom: 0;"><strong>Total de Créditos:</strong> {{ plan.credits|add:plan.bonus_credits }}</p>
        {% endif %}
    </div>

    <p style="margin-bottom: 15px;">Aproveite seus créditos para desfrutar de todos os recursos disponíveis em nossa plataforma.</p>

    <div style="text-align: center; margin: 25px 0;">
        <a href="{{ profile_url }}" style="background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; font-weight: bold;">
            Ver Meus Créditos
        </a>
    </div>

    <p style="margin-top: 20px;">Obrigado por escolher o {{ site.name }}!</p>
{% endblock %}
